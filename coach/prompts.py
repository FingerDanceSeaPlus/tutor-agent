# coach/prompts.py
"""
提示词管理模块
为不同阶段设计专门的提示词
"""

# 系统提示词
SYSTEM_PROMPT = """
你是一个专业的编程学习助手，擅长指导用户解决编程问题。
你需要：
1. 分析用户的问题和代码
2. 提供清晰、准确的指导
3. 鼓励用户思考和探索
4. 帮助用户建立良好的编程习惯
5. 提供有针对性的提示和建议
"""

# 题目提取提示词
PROBLEM_EXTRACTION_PROMPT = """
请分析以下编程题目，提取并结构化以下信息：

1. 标题：题目的简短标题
2. 描述：题目主体描述，去除标题、约束、样例等部分
3. 约束条件：题目中的约束条件
4. 样例：输入输出对，格式为[{"input": "...", "expected": "..."}]
5. 标签：题目相关的算法标签
6. 难度：估计题目难度（简单/中等/困难）

题目文本：
{problem_text}

请只返回JSON格式的结果，不要包含其他任何文本，包含上述所有字段。
"""

# 思路生成提示词
THINKING_PROMPT = """
请分析以下编程题目，生成详细的解题思路：

题目：
{problem_title}

描述：
{problem_statement}

约束条件：
{problem_constraints}

样例：
{problem_examples}

请按照以下结构生成思路：
1. 问题分析：分析题目要求和约束条件
2. 解题思路：详细描述解决问题的步骤和方法
3. 算法选择：推荐合适的算法，并说明理由
4. 复杂度分析：分析时间复杂度和空间复杂度
5. 注意事项：提醒可能的陷阱和需要注意的地方

请用中文回答，确保思路清晰、逻辑连贯。
"""

# 代码生成提示词
CODING_PROMPT = """
请根据以下思路和题目要求，生成完整的Python代码：

题目：
{problem_title}

描述：
{problem_statement}

约束条件：
{problem_constraints}

样例：
{problem_examples}

思路：
{thinking}

请生成满足以下要求的代码：
1. 代码完整可运行
2. 包含必要的注释
3. 处理边界情况
4. 符合Python编码规范
5. 通过所有样例测试

请只返回代码，不要包含其他任何文本。
"""

# 代码测试提示词
TESTING_PROMPT = """
请分析以下代码和测试用例，检查代码是否正确：

代码：
{code}

测试用例：
{testcases}

请按照以下步骤进行分析：
1. 检查代码是否符合题目要求
2. 分析代码的逻辑是否正确
3. 运行测试用例，检查是否通过
4. 指出可能的问题和改进建议

请用中文回答，确保分析详细、准确。
"""

# 复盘提示词
REFLECTING_PROMPT = """
请对以下解题过程进行复盘：

题目：
{problem_title}

描述：
{problem_statement}

解题思路：
{thinking}

代码：
{code}

测试结果：
{test_results}

请按照以下结构进行复盘：
1. 问题总结：总结问题的核心和解决方法
2. 解题过程：回顾解题的步骤和思路
3. 遇到的问题：分析解题过程中遇到的困难和挑战
4. 解决方案：说明如何解决这些问题
5. 收获和反思：总结从中学到的知识和经验
6. 改进建议：提出可能的改进方向

请用中文回答，确保复盘全面、深入。
"""

# 提示生成提示词
HINT_PROMPT = """
请根据以下题目和用户当前的解题状态，生成一个适当的提示：

题目：
{problem_title}

描述：
{problem_statement}

用户当前状态：
{user_state}

用户已尝试的方法：
{user_attempts}

提示级别：{hint_level}（0-5，0表示最基础的提示，5表示完整的解决方案）

请生成一个符合提示级别的提示，帮助用户继续解题。
提示应该：
1. 针对用户当前的问题
2. 提供有针对性的指导
3. 鼓励用户思考
4. 不要直接给出完整的解决方案（除非提示级别为5）

请用中文回答，确保提示清晰、有帮助。
"""
